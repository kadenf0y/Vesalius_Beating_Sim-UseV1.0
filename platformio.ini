[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

monitor_speed = 921600
monitor_filters = time

build_flags =
  -Iinclude
  -D ARDUINO_USB_MODE=1
  -D ARDUINO_USB_CDC_ON_BOOT=0
  -std=gnu++14
  -Wall
  -Wextra
  -Wno-unused-parameter

; Force-build local libs by path (non-deprecated).
; Paths are relative to the project root.
lib_deps =
  esphome/AsyncTCP-esphome @ ^2.1.4
  esphome/ESPAsyncWebServer-esphome @ ^3.3.0
  lib/buttons
  lib/control
  lib/flow
  lib/io
  lib/shared
  lib/web

; Deep scan so the linker pulls in the right objects
lib_ldf_mode = deep+
